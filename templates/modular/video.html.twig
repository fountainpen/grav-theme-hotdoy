{% extends '/partials/modular.html.twig' %}

{% set video = video|default(page.header.video ? page.media[page.header.video]) %}
{% set image = image|default(page.header.image ? page.media[page.header.image]) %}
{% set loop = loop|default(page.header.loop) %}
{% set align_h = align_h|default(page.header.align_h) %}
{% set reveal_video = reveal_video|default('reveal delay-100 duration-500') %}
{% set reveal_content = reveal_content|default('reveal delay-200 duration-500') %}
	
{% block modular_classes %}
{{ parent() }} 
modular--video
{% if page.header.bg_color %}rhythm-padding{% endif %}
{% endblock %}

{% block modular_content %}
	<div class="video__ctn site">
	<div class="video__content tight {{ align_h }}" data-reveal="{{ reveal_content }}">
		{{ content|raw }}
	</div>
		<video class="video__video" autoplay="autoplay" muted="muted" data-reveal="{{ reveal_video }}"
		{% if loop %}loop="loop"{% endif %} 
		{% if image %}poster="{{ image.url }}"{% endif %}>
		{% if video %}<source src="{{ video.url }}" type="video/mp4">{% endif %}
		</video>
	</div>
{% endblock %}
