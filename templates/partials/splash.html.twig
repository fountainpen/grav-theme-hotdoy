{% set fg_color = fg_color|default(page.header.fg_color ?? theme.fg_color) %}
{% set bg_color = bg_color|default(page.header.bg_color ?? theme.bg_color) %}
{% set bg_image = bg_image|default(page.header.bg_image ? page.media[page.header.bg_image]) %}
{% set bg_loop = bg_loop|default(page.header.bg_loop) %}
{% set bg_video = bg_video|default(page.header.bg_video ? page.media[page.header.bg_video]) %}
{% set bg_veil = bg_veil|default(page.header.bg_veil / 100) %}
{% set min_height = min_height|default(page.header.min_height) %}
{% set rythm = rythm|default(page.header.rythm ?? 'rythm') %}
{% set reveal_image = reveal_image|default('scalein delay-500 duration-5000') %}
{% set reveal_video = reveal_video|default('scalein delay-500 duration-5000') %}
{% set reveal_content = reveal_content|default('fadeinfromtop delay-200 duration-2000') %}

<section class="splash full {{ rythm }}" style="{% if bg_color %}--bg-color:{{ bg_color }};{% endif %}{% if fg_color %}--fg-color:{{ fg_color }};{% endif %}{% if min_height %}min-height:{{ min_height }}vh;{% endif %}">

	{% block bg_veil %}
		{% if bg_veil %}
		<div class="veil" style="opacity:{{bg_veil}};"></div>
		{% endif %}
	{% endblock %} 
	
	{% block image %}
		{% if bg_image and not bg_video %}
		{% include '/partials/img.html.twig' with {'image': bg_image, 'class': 'bg-image no3g', 'alt': bg_image_alt, 'reveal': reveal_image} %}
		{% endif %}
	{% endblock %}

	{% block video %}
		{% if bg_video %}
		<video class="bg-video" data-reveal="{{ reveal_video }}"
		autoplay="autoplay" muted="muted"
		{% if bg_loop %} loop="loop" {% endif %} 
		{% if bg_image %}poster="{{ bg_image.url }}"{% endif %}>
		{% if bg_video %}<source src="{{ bg_video.url }}" type="video/mp4">{% endif %}
		</video>
		{% endif %}
	{% endblock %}

	{% block content %}
		<div class="content-ctn site" data-reveal="{{ reveal_content }}">{{ content|raw }}</div>
	{% endblock %}
	
</section>
